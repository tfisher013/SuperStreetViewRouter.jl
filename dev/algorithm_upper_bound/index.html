<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Upper Bound · SuperStreetViewRouter.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://tfisher013.github.io/SuperStreetViewRouter.jl/algorithm_upper_bound/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../example_usage/">SuperStreetViewRouter.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../example_usage/">Example Usage</a></li><li><a class="tocitem" href="../algorithm/">Algorithm</a></li><li class="is-active"><a class="tocitem" href>Upper Bound</a><ul class="internal"><li><a class="tocitem" href="#Analysis"><span>Analysis</span></a></li><li><a class="tocitem" href="#Experimental-Confirmation"><span>Experimental Confirmation</span></a></li></ul></li><li><a class="tocitem" href="../">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Upper Bound</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Upper Bound</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tfisher013/SuperStreetViewRouter.jl/blob/main/docs/src/algorithm_upper_bound.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Analysis"><a class="docs-heading-anchor" href="#Analysis">Analysis</a><a id="Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Analysis" title="Permalink"></a></h2><p>The upper bound of the algorithm can be described as the maximum score achievable on a given city data of which we know some  information. In this section, a reasonable upper bound will be derived beginning from simple assumptions and gradually accounting for increasing complexity.</p><p>Let&#39;s begin by considering a City object whose streets so exceed the number of cars and total duration that all cars can run freely  without fear of overlap. Here we assume that the traversal penalty described above is sufficient to prevent overlap in the presence  of an abudance of available streets. With all <span>$\text{num}\textunderscore\text{cars}$</span> cars running for <span>$duration$</span>  seconds each, there are <span>$n_{cars} \cdot duration$</span> seconds during which  streets will be traversed.</p><p>To generate a (safely conservative) distance score from the available time, we introduce a normalized average rate for the City object as described below:</p><p class="math-container">\[speed_{avg} = 1.5 \cdot \frac{\displaystyle \sum_{s \in S} s_d \cdot \frac{s_d}{s_t}}{\displaystyle \sum_{s \in S} s_d}\]</p><p class="math-container">\[S\]</p><p>is the set of streets in the the city</p><p class="math-container">\[s_d\]</p><p>is the distance of street <span>$s \in S$</span></p><p class="math-container">\[s_t\]</p><p>is the duration of street <span>$s \in S$</span></p><p>Using this value as an approximation for the typical speed at which a car can traverse any given street in the City object, we arrive  at a simplistic upper bound (measured in meters) of</p><p class="math-container">\[score \leq n_{cars} \cdot duration \cdot speed_{avg}\]</p><p>Now applying this model to a more general City object requires accounting for two possibilities related to scarcity:</p><ol><li>Suppose a City object contains less distance in its streets than the value obtained from the expression above?</li><li>Suppose cars are forced to overlap one another in the course of their paths?</li></ol><p>Handling the first situation is simple. We cap our bound at the total distance of the City object:</p><p class="math-container">\[score \leq \min(n_{cars} \cdot duration \cdot speed_{avg}, d_{total})\]</p><p>where <span>$d_{total}=\sum_{s \in S} s_d$</span></p><p>To address overlap, consider how its effect ranges from absolute (the score of <span>$n$</span> cars is equivalent to the score of  <span>$1$</span>) to non-existent (ideal model above). Expressed in terms of our quantities,</p>$<p>\min(duration \cdot speed<em>{avg},  d</em>{total}) \leq d \leq \min(n<em>{cars} \cdot duration \cdot speed</em>{avg}, d_{total}) $</p><p>To simplify our expression, let&#39;s condense the effect of overlap into a single factor, <span>$o_f$</span>, like so:</p><p class="math-container">\[score \leq \min(n_{cars} \cdot duration \cdot speed_{avg} \cdot o_f, d_{total})\]</p><p>where <span>$\frac{1}{n_{cars}} \leq o_f \leq 1$</span></p><p>A simple way to construct <span>$o_f$</span> is to use some version of a sign-like function which varies between <span>$\frac{1}{n_{cars}}$</span> and <span>$1$</span> in value. <span>$\tanh(x)$</span> does the trick, and shifted and scaled between our values it becomes</p><p class="math-container">\[o_f=\frac{1}{2} \cdot \left(1-\frac{1}{n_{cars}} \right) \tanh(x) + \frac{1}{2} \cdot \left( 1 + \frac{1}{n_{cars}} \right)\]</p><p>The input variable to the <span>$\tanh$</span> function must be a measure of the amount of overlap we expect in a city of fixed size. To represent this, we introduce the quantity <span>$cars_{supported} = \frac{d_{total}}{t_{total} \cdot speed_{avg}}$</span>. This normalized difference between the number of cars the city can support and the number of cars in the input file, scaled by the number of cars, is what we use in our overlap factor value:</p><p class="math-container">\[o_f=\frac{1}{2} \cdot \left(1-\frac{1}{n_{cars}} \right) \tanh\left(\frac{1}{n_{cars}} \cdot \frac{cars_{supported}-n_{cars}}{cars_{supported}}\right) + \frac{1}{2} \cdot \left( 1 + \frac{1}{n_{cars}} \right)\]</p><p>Combining all the components above, we arrive at the following inequality for all feasible distance scores <span>$d$</span> from our algorithm:</p><p class="math-container">\[score \leq \min\left(n_{cars} \cdot duration \cdot speed_{avg} \cdot \frac{1}{2} \cdot \left(1-\frac{1}{n_{cars}} \right) \tanh\left(\frac{cars_{supported}-n_{cars}}{cars_{supported}}\right) + \frac{1}{2} \cdot \left( 1 + \frac{1}{n_{cars}} \right), d_{total}\right)\]</p><h2 id="Experimental-Confirmation"><a class="docs-heading-anchor" href="#Experimental-Confirmation">Experimental Confirmation</a><a id="Experimental-Confirmation-1"></a><a class="docs-heading-anchor-permalink" href="#Experimental-Confirmation" title="Permalink"></a></h2><p>Since we have a well defined upper bound for any solution from <code>SuperStreetViewRouter.jl</code> and a solver, experimental verification is easy to generate. See graphs below which plot solution scores from the library against upper bound values, varying <span>$1$</span> parameter at a time.</p><h3 id="Score-vs.-Upper-Bound-Across-Cars"><a class="docs-heading-anchor" href="#Score-vs.-Upper-Bound-Across-Cars">Score vs. Upper Bound Across Cars</a><a id="Score-vs.-Upper-Bound-Across-Cars-1"></a><a class="docs-heading-anchor-permalink" href="#Score-vs.-Upper-Bound-Across-Cars" title="Permalink"></a></h3><p><img src="../images/car_plot.png" alt="Score vs. upper bound across varying cars"/></p><h3 id="Score-vs.-Upper-Bound-Across-Durations"><a class="docs-heading-anchor" href="#Score-vs.-Upper-Bound-Across-Durations">Score vs. Upper Bound Across Durations</a><a id="Score-vs.-Upper-Bound-Across-Durations-1"></a><a class="docs-heading-anchor-permalink" href="#Score-vs.-Upper-Bound-Across-Durations" title="Permalink"></a></h3><p><img src="../images/duration_plot.png" alt="Score vs. upper bound across varying durations"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../algorithm/">« Algorithm</a><a class="docs-footer-nextpage" href="../">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Saturday 10 December 2022 04:39">Saturday 10 December 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
